<!DOCTYPE html><html><head><style></style>
    <title>Socket Supply Co.</title>

    <link rel="preload" href="/fonts/Inter-Light.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="preload" href="/fonts/FiraMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">

    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32.png">
    <link rel="icon" type="image/svg+xml" sizes="any" href="/images/favicon.svg">
    <link rel="mask-icon" href="/images/mask-icon.svg" color="#36393d">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

    <link rel="stylesheet" href="/styles/theme.css">
    <link rel="stylesheet" href="/styles/common.css">
    <link rel="stylesheet" href="/styles/table.css">
    <link rel="stylesheet" href="/styles/page-base.css">
    <link rel="stylesheet" href="/styles/nav.css">
    <link rel="stylesheet" href="/styles/tonic-overrides.css">
    <link rel="stylesheet" href="/styles/pages/index.css">

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1 user-scalable=no">

    <meta name="description" content="Distribued Cloud Console">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://socketsupply.co">
    <meta property="og:site_name" content="Socket Sypply Co.">
    <meta property="og:title" content="Socket Supply Co.">
    <meta property="og:description" content="Distribued Cloud Console">
    <meta property="og:image" content="https://socketsupply.co/images/tonic_preview.png">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@socketsupply">
    <meta name="twitter:title" content="Socket Supply Co.">
    <meta name="twitter:image" content="https://socketsupply.co/images/tonic_preview.png">
    <meta name="twitter:description" content="Distribued Cloud Console">
  </head>

        <body id="index">
          
<nav>
  <a href="/"><img src="images/framework.svg" alt="Framework"></a>
</nav>


          <main>
            <h1>Desktop API</h1>

            <markdown-module src="src/docs/desktop.md"><p>When your program runs, it will forward its arguments to the Main process.
The main process is responsible for showing a window to the user.</p>
<h2 id="methods">Methods</h2>
<p>The <code>system</code> object is a global (ie, <code>window.system</code>).</p>
<h3 id="systemsettitleoptions-object">system.setTitle(Options: Object)</h3>
<p>Set the native title of the window.</p>
<pre><code class="language-ts">@param {<span class="hljs-built_in">Object</span>} Options
@returns <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt;

struct Options {
  <span class="hljs-attr">window</span>: <span class="hljs-built_in">Number</span>,
  <span class="hljs-attr">value</span>: <span class="hljs-built_in">String</span>
}
</code></pre>
<h3 id="systemsetsizeoptions-object">system.setSize(Options: Object)</h3>
<p>Set the size of the window (will show the window).</p>
<pre><code class="language-ts">@param {<span class="hljs-built_in">Object</span>} Options
@returns <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt;

struct Options {
  <span class="hljs-attr">window</span>: <span class="hljs-built_in">Number</span>,
  <span class="hljs-attr">width</span>: <span class="hljs-built_in">Number</span>,
  <span class="hljs-attr">height</span>: <span class="hljs-built_in">Number</span>
}
</code></pre>
<h3 id="systemsetmenuoptions-object">system.setMenu(Options: Object)</h3>
<p>Set the native menu for the app.</p>
<pre><code class="language-ts">@param {<span class="hljs-built_in">Object</span>} Options
@returns <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt;

struct Options {
  <span class="hljs-attr">window</span>: <span class="hljs-built_in">Number</span>,
  <span class="hljs-attr">value</span>: <span class="hljs-built_in">String</span>
}
</code></pre>
<h3 id="systemsendoptions-object">system.send(Options: Object)</h3>
<p>Send an object to the backend process and await a promise.</p>
<pre><code class="language-ts">@param {<span class="hljs-built_in">Object</span>} Options
@returns <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt;

struct Options {
  <span class="hljs-attr">window</span>: <span class="hljs-built_in">Number</span>,
  <span class="hljs-attr">value</span>: <span class="hljs-built_in">Object</span>
}
</code></pre>
<h3 id="systemhideoptions-object">system.hide(Options: Object)</h3>
<p>Hide the entire app.</p>
<pre><code class="language-ts">@param {<span class="hljs-built_in">Object</span>} Options
@returns <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt;

struct Options {
  <span class="hljs-attr">window</span>: <span class="hljs-built_in">Number</span>
}
</code></pre>
<h3 id="systemshowoptions-object">system.show(Options: Object)</h3>
<p>Show the entire app.</p>
<pre><code class="language-ts">@param {<span class="hljs-built_in">Object</span>} Options
@returns <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt;

struct Options {
  <span class="hljs-attr">window</span>: <span class="hljs-built_in">Number</span>
}
</code></pre>
<h3 id="systemexitoptions-object">system.exit(Options: Object)</h3>
<p>Quits the backend process and then quits the render process,
the exit code used is the final exit code to the OS.</p>
<pre><code class="language-ts">@param {<span class="hljs-built_in">Object</span>} Options
@returns <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt;

struct Options {
  <span class="hljs-attr">window</span>: <span class="hljs-built_in">Number</span>,
  <span class="hljs-attr">code</span>: <span class="hljs-built_in">Number</span>
}
</code></pre>
<h3 id="systemdialogoptions-object">system.dialog(Options: Object)</h3>
<p>Opens a native file open/save dialog.</p>
<pre><code class="language-ts">@param {<span class="hljs-built_in">Object</span>} Options
@returns <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt;

struct Options {
  <span class="hljs-attr">window</span>: <span class="hljs-built_in">Number</span>,
  <span class="hljs-attr">isSave</span>: Bool,
  <span class="hljs-attr">allowFiles</span>: Bool,
  <span class="hljs-attr">allowMultiple</span>: Bool
}
</code></pre>
<h3 id="systemopenexternaloptions-object">system.openExternal(Options: Object)</h3>
<p>Opens a link in the user's default browser.</p>
<pre><code class="language-ts">@param {<span class="hljs-built_in">Object</span>} Options
@returns <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt;

struct Options {
  <span class="hljs-attr">window</span>: <span class="hljs-built_in">Number</span>,
  <span class="hljs-attr">value</span>: <span class="hljs-built_in">String</span>
}
</code></pre>
<h3 id="systemcontextmenuoptions-object-render-process-only">system.contextMenu(Options: Object) <code>Render Process Only</code></h3>
<p>Opens a native context menu.</p>
<pre><code class="language-ts">@param {<span class="hljs-built_in">Object</span>} Options
@returns <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-keyword">void</span>&gt;

struct Options {
  <span class="hljs-attr">window</span>: <span class="hljs-built_in">Number</span>,
  <span class="hljs-attr">value</span>: <span class="hljs-built_in">Object</span>
}
</code></pre>
<h2 id="properties">Properties</h2>
<p>The <code>process</code> object is a global (ie, <code>window.process</code>).</p>
<h3 id="processargv-array">process.argv: Array<string></string></h3>
<p>Provides the arguments that the program was called with.</p>
<h3 id="processtitle-string">process.title: String</h3>
<p>The title as defined in the <code>operator.config</code> file.</p>
<h3 id="processversion-string">process.version: String</h3>
<p>The version as defined in the <code>operator.config</code> file.</p>
<h3 id="processdebug-number">process.debug: Number</h3>
<p>Value is <code>1</code> unless <code>-xd</code> is passed to the CLI tool at build time.</p>
<h3 id="processbundle-string">process.bundle: String</h3>
<p>A value returned by the OS that represents the path to the running app.</p>
<h3 id="processexecutable-string">process.executable: String</h3>
<p>The executable name as defined in the <code>operator.config</code> file.</p>
</markdown-module>
            <markdown-module src="src/docs/menus.md"><h2 id="menus">Menus</h2>
<p>Operator Framework provides a minimalist DSL that makes it easy to create
cross platform native system and context menus.</p>
<p>Menus are created at run time. They can be created from either the Main or
Render process. The can be recreated instantly by calling the <code>setMenu</code> method.</p>
<h3 id="system-menus">System Menus</h3>
<p><img src="images/screenshots/menus.png" alt="menus"></p>
<h4 id="example">Example</h4>
<p>The method takes a string. Here's an example of a menu. The semi colon is
significant indicates the end of the menu. Use an underscore when there is no
accelerator key. Modifiers are optional. For the edit menu, <code>op</code> will figure
out which accelerators to use for you.</p>
<pre><code class="language-js">system.setMenu(<span class="hljs-string">`
  App:
    Foo: f;

  Edit:
    Cut: x
    Copy: c
    Paste: v
    Delete: _
    Select All: a;

  Other:
    Apple: _
    Another Test: T
    Some Thing: S + Meta
    ---
    Bazz: s + Meta, Control, Alt;
`</span>)
</code></pre>
<h4 id="separators">Separators</h4>
<p>To create a separator, use three dashes <code>---</code>.</p>
<h4 id="accelerator-modifiers">Accelerator Modifiers</h4>
<p>Accelerator modifiers are used as visual indicators but don't have a
material impact as the actual key binding is done in the event listener.</p>
<p>A capital letter implies that the accelerator is modified by the <code>Shift</code> key.</p>
<p>Additional accelerators are <code>Meta</code>, <code>Control</code>, <code>Option</code>, each separated
by commas. If one is not applicable for a platform, it will just be ignored.</p>
<p>On MacOS <code>Meta</code> is the same as <code>Command</code>.</p>
<h4 id="submenus">Submenus</h4>
<p>We feel like nested menus are an anti-pattern. We don't use them. If you have a
strong argument for them and a very simple pull request that makes them work we
may consider them.</p>
<h4 id="event-handling">Event Handling</h4>
<p>When a menu item is activated, it raises the <code>menuItemSelected</code> event in
the front end code, you can then communicate with your backend code if you
want from there.</p>
<p>For example, if the <code>Apple</code> item is selected from the <code>Other</code> menu...</p>
<pre><code class="language-js"><span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">'menuItemSelected'</span>, <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
  assert(event.detail.parent === <span class="hljs-string">'Other'</span>)
  assert(event.detail.title === <span class="hljs-string">'Apple'</span>)
})
</code></pre>
<h3 id="context-menus">Context Menus</h3>
<p>Dynamically build a context menu and await the user's selection.</p>
<pre><code class="language-js"><span class="hljs-keyword">const</span> value = <span class="hljs-keyword">await</span> <span class="hljs-built_in">window</span>.contextMenu({
  <span class="hljs-attr">Download</span>: <span class="hljs-string">'D'</span>,
  <span class="hljs-attr">Wizard</span>: <span class="hljs-string">'W'</span>,
  <span class="hljs-attr">Share</span>: <span class="hljs-string">'S'</span>
})
</code></pre>
<p>If the user presses <code>w</code> or clicks the <code>Wizard</code> menu item, the following
statement will evalute true.</p>
<pre><code class="language-js">assert(value === { <span class="hljs-attr">title</span>: <span class="hljs-string">'Wizard'</span>, <span class="hljs-attr">parent</span>: <span class="hljs-string">'contextMenu'</span>, <span class="hljs-attr">state</span>: <span class="hljs-number">0</span> })
</code></pre>
</markdown-module>
            <markdown-module src="src/docs/ipc.md"><h1 id="ipc">IPC</h1>
<p>There are three important concepts for an application built with the Operator
Framework. The <code>Render</code> process, the <code>Main</code> process, and the <code>Bridge</code> process.</p>
<p><code>IPC</code> is an acronym for <a href="https://en.wikipedia.org/wiki/Inter-process_communication">Inter Process Communication</a>. It's the method for
which these <a href="https://en.wikipedia.org/wiki/Process_(computing)">processes</a> work together.</p>
<p>The Bridge process handles communication between the Render and Main
processes. For Desktop apps, the Render process is the user interface, and the
Main process is strictly for computing and IO.</p>
<p>When an applicaiton starts, the Bridge process will spawn a child process, which
we will call the Main process.</p>
<p>The Binding process creates a unidirectional data channel using standard input
and output. Data written to the write-end of the pipe is buffered by the OS
until it is read from the read-end of the pipe.</p>
<p>The IPC protocol uses a simple URI-like scheme.</p>
<pre><code class="language-uri">ipc:<span class="hljs-comment">//command?key1=value1&amp;key2=value2...</span>
</code></pre>
<p>The query is encoded with <code>encodeURIComponent</code>.</p>
<p>Here is a reference <a href="https://github.com/socketsupply/operatorframework/blob/master/test/example/src/main/ipc.js">implementation</a> if you would like to use a language
that does not yet have one.</p>
</markdown-module>
            </main>

          <app-footer js-bundle="true">
      <footer id="primary" class="tc-footer">
        <div class="content">
          <div class="footer-links">
            <div>
              <h4>Reference</h4>
              <ul>
                <li><a href="/config">Configuration</a></li>
                <li><a href="/desktop">Desktop API</a></li>
                <li><a href="/mobile">Mobile API</a></li>
              </ul>
            </div>
            <div>
              <h4>Code</h4>
              <ul>
                <li><a href="/examples">Examples</a></li>
                <li><a href="/guides">Guides</a></li>
              </ul>
            </div>
            <div>
              <h4>Community</h4>
              <ul>
                <li><a href="mailto:hello@socketsupply.co" alt="Email">Email</a></li>
                <li><a href="https://twitter.com/socketsupply" rel="noopener" class="underline" alt="Twitter">Twitter</a></li>
                <li><a href="https://github.com/socketsupply" rel="noopener" class="underline" alt="Github">Github</a></li>
                <li><a href="https://discord.gg/YPV32gKCsH" rel="noopener" class="underline" alt="Discord">Discord</a></li>
              </ul>
            </div>
          </div>

          <p class="copy">
            <span class="copyright">Copyright Socket Supply Co. 2022</span>
          </p>
        </div>

      </footer>

      
        <bundle-js src="./src/index.client.js" dest="./build/bundle.js" url="/bundle.js" format="esm" keep-names="true__boolean">
        
      <script src="/bundle.js"></script>
    </bundle-js>
      
    </app-footer>
        
      
    </body></html>